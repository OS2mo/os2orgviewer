(function(t){function e(e){for(var r,o,i=e[0],u=e[1],c=e[2],d=0,l=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&l.push(s[o][0]),s[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);h&&h(e);while(l.length)l.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,o=1;o<n.length;o++){var i=n[o];0!==s[i]&&(r=!1)}r&&(a.splice(e--,1),t=u(u.s=n[0]))}return t}var r={},o={app:0},s={app:0},a=[];function i(t){return u.p+"js/"+({}[t]||t)+"-legacy."+{"chunk-5307d0fc":"530c615a"}[t]+".js"}function u(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(t){var e=[],n={"chunk-5307d0fc":1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=new Promise((function(e,n){for(var r="css/"+({}[t]||t)+"."+{"chunk-5307d0fc":"84d695b3"}[t]+".css",s=u.p+r,a=document.getElementsByTagName("link"),i=0;i<a.length;i++){var c=a[i],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===r||d===s))return e()}var l=document.getElementsByTagName("style");for(i=0;i<l.length;i++){c=l[i],d=c.getAttribute("data-href");if(d===r||d===s)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var r=e&&e.target&&e.target.src||s,a=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=r,delete o[t],h.parentNode.removeChild(h),n(a)},h.href=s;var g=document.getElementsByTagName("head")[0];g.appendChild(h)})).then((function(){o[t]=0})));var r=s[t];if(0!==r)if(r)e.push(r[2]);else{var a=new Promise((function(e,n){r=s[t]=[e,n]}));e.push(r[2]=a);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,u.nc&&d.setAttribute("nonce",u.nc),d.src=i(t);var l=new Error;c=function(e){d.onerror=d.onload=null,clearTimeout(h);var n=s[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,n[1](l)}s[t]=void 0}};var h=setTimeout((function(){c({type:"timeout",target:d})}),12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(e)},u.m=t,u.c=r,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)u.d(n,r,function(e){return t[e]}.bind(null,r));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/",u.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var h=d;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0e06":function(t,e,n){},"127b":function(t,e,n){},"2c08":function(t,e,n){},"30b3":function(t,e,n){},"386b":function(t,e,n){},"3a7f":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("oc-header",[t.organisations?n("h1",{attrs:{slot:"title",id:"oc-header-title",title:t.organisations[0].name+"s organisation"},slot:"title"},[n("router-link",{attrs:{to:"/"}},[t._v(" "+t._s(t.title)+" ")])],1):t._e(),n("div",{staticClass:"oc-header-actions",attrs:{slot:"actions"},slot:"actions"},[n("router-link",{staticClass:"oc-header-search-link",attrs:{to:"/search",title:"Søg"}},[n("svg",{staticClass:"oc-search-svg",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"18px",height:"18px"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{staticClass:"oc-search-svg-path",attrs:{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}})])])],1)]),n("main",{attrs:{id:"oc-main"}},[n("router-view",{attrs:{id:"tree",name:"tree"}}),n("router-view",{attrs:{id:"organisation",name:"organisation"}}),n("router-view",{attrs:{id:"person",name:"person"}}),n("router-view",{attrs:{id:"search",name:"search"}})],1)],1)},s=[],a=n("96c7"),i={name:"App",components:{OcHeader:a["a"]},data:function(){return{title:"Frederikshavn Kommunes MED-organisation"}},computed:{organisations:function(){return this.$store.getters.getOrganisations}},created:function(){this.$store.dispatch("fetchGlobalOrgs")}},u=i,c=(n("5c0b"),n("2877")),d=Object(c["a"])(u,o,s,!1,null,null,null),l=d.exports,h=n("c0d6"),g=n("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"oc-search"},[n("h2",[t._v("Søgning")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.search(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],attrs:{type:"search"},domProps:{value:t.query},on:{input:[function(e){e.target.composing||(t.query=e.target.value)},t.considerSearching]}}),n("input",{attrs:{type:"submit",value:"Søg"}})]),t.person_results&&t.person_results.length>0?n("section",[n("h3",[t._v("Personer")]),n("ul",{staticClass:"oc-search-list"},t._l(t.person_results,(function(e){return n("li",{key:e.uuid},[n("a",{attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),t.navToPerson(e.uuid)}}},[t._v(t._s(e.name))])])})),0)]):t._e(),t.org_results&&t.org_results.length>0?n("section",[n("h3",[t._v("Afdelinger")]),n("ul",{staticClass:"oc-search-list"},t._l(t.org_results,(function(e){return n("li",{key:e.uuid},[n("router-link",{attrs:{to:"/orgchart?root="+t.root_org_unit_uuid+"&org="+e.uuid+"&orgopen=1&showchildren=1"}},[t._v(" "+t._s(e.name)+" ")])],1)})),0)]):t._e()])},f=[],_=(n("99af"),n("ac1f"),n("841c"),n("903a")),v={data:function(){return{query:null,person_results:null,org_results:null,timeout:null}},computed:{organisation_uuid:function(){return this.$store.getters.getOrganisations[0].uuid},root_org_unit_uuid:function(){return this.$store.getters.getRootOrgUnitUuid}},methods:{debounce:function(t,e){var n=arguments,r=this;return function(){var o=r,s=n,a=function(){r.timeout=null,t.apply(o,s)};clearTimeout(r.timeout),r.timeout=setTimeout(a,e)}},considerSearching:function(){this.query.length>2&&this.debounce(this.search,300)()},search:function(){var t=this;Object(_["a"])("/service/o/".concat(this.organisation_uuid,"/e/?query=").concat(this.query)).then((function(e){t.person_results=e.items})),Object(_["a"])("/service/o/".concat(this.organisation_uuid,"/ou/?query=").concat(this.query)).then((function(e){t.org_results=e.items}))},navToPerson:function(t){var e=this;this.$store.dispatch("fetchPersonAssociations",t).then((function(n){!n||n.length<1?alert("Denne person er ikke tilknyttet nogen enhed i organisationen."):e.$router.push({name:"orgchart",query:{root:e.root_org_unit_uuid,org:n[0].org_unit.uuid,person:t,orgopen:1,showchildren:1}})}))}}},m=v,b=(n("64e1"),Object(c["a"])(m,p,f,!1,null,null,null)),y=b.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.root_org_uuid?n("div",{staticClass:"oc-chart",class:{"oc-chart-orgopen":1==t.$route.query.orgopen}},[t.root_org_unit&&t.root_org_unit.parent?n("router-link",{staticClass:"oc-chart-root-link btn",attrs:{to:{name:"orgchart",query:{root:t.root_org_unit.parent.uuid,org:t.root_org_uuid,showchildren:1,orgopen:0}}}},[t._v(" Et niveau op ")]):t._e(),n("ul",{staticClass:"oc-branch oc-chart-root-branch"},[n("leaf",{staticClass:"oc-chart-root-leaf",attrs:{uuid:t.root_org_uuid,"show-children":!0,level:0}})],1)],1):t._e()},O=[],C=n("8b81"),$={components:{Leaf:C["a"]},computed:{root_org_uuid:function(){return this.$route.query.root},root_org_unit:function(){return this.$store.getters.getOrgUnit(this.$route.query.root)}},watch:{$route:function(t){this.update(t.query.root)}},methods:{update:function(t){t&&this.$store.dispatch("fetchOrgUnit",t)}},created:function(){this.update(this.$route.query.root),this.$store.dispatch("fetchTree",this.$route.query.org)}},k=$,q=(n("d5de"),Object(c["a"])(k,w,O,!1,null,null,null)),j=q.exports,P=n("a79f"),x=n("f0b4");r["a"].use(g["a"]);var M=new g["a"]({routes:[{path:"/",redirect:{name:"orgchart",query:{root:h["a"].state.organisation.root_org_uuid,org:h["a"].state.organisation.root_org_uuid,showchildren:1}}},{path:"/orgchart",name:"orgchart",components:{tree:j,organisation:P["a"],person:x["a"]}},{path:"/search",name:"search",components:{search:y}}]}),E=M;r["a"].config.productionTip=!1,new r["a"]({store:h["a"],router:E,render:function(t){return t(l)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var r=n("9c0c"),o=n.n(r);o.a},"64e1":function(t,e,n){"use strict";var r=n("b3c5"),o=n.n(r);o.a},"660e":function(t,e,n){},"6bb1":function(t,e,n){},"6beb":function(t,e,n){"use strict";var r=n("3a7f"),o=n.n(r);o.a},"71b0":function(t,e,n){"use strict";var r=n("6bb1"),o=n.n(r);o.a},"7b1f":function(t,e,n){},8245:function(t,e,n){},8508:function(t,e,n){"use strict";var r=n("660e"),o=n.n(r);o.a},8834:function(t,e,n){"use strict";var r=n("2c08"),o=n.n(r);o.a},"8b81":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.node_data?n("li",{staticClass:"oc-node"},[n("div",{staticClass:"oc-node-body",class:{active:t.active_org_uuid===t.node_data.uuid}},[n("div",{staticClass:"oc-node-title"},[n("org-lite",{attrs:{data:t.node_data}}),t.node_data.uuid!==t.root_org_unit_uuid?n("router-link",{staticClass:"oc-node-focus-btn btn",attrs:{to:"/orgchart?root="+t.node_data.uuid+"&org="+t.node_data.uuid+"&showchildren=1",title:"Vis kun "+t.node_data.name}},[n("svg",{staticClass:"svg-focus",attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{staticClass:"svg-path",attrs:{d:"M5 15H3v4c0 1.1.9 2 2 2h4v-2H5v-4zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2V5zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2zm0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4zM12 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}})])]):t._e()],1),t.node_data.child_count?n("button",{staticClass:"oc-node-expand-btn btn",class:t.branch_open?"close":"open",attrs:{type:"button",title:t.branch_open?"Skjul "+t.node_data.child_count+" underenheder":"Vis "+t.node_data.child_count+" underenheder"},on:{click:t.toggleBranch}},[n("svg",{staticClass:"svg-toggle",attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{staticClass:"svg-path",attrs:{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}})]),t._v(" "+t._s(t.node_data.child_count)+" ")]):t._e()]),t.branch_open?n("branch",{class:{"oc-chart-root-branch":t.root_org_unit_uuid===t.node_data.uuid},attrs:{uuid:t.uuid,level:t.level+1}}):t._e()],1):t._e()},o=[],s=(n("a9e3"),n("d3b7"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{staticClass:"oc-org-link",attrs:{to:{name:"orgchart",query:{root:t.root_org_uuid,org:t.data.uuid,orgopen:1,showchildren:1}},id:"orgunit-"+t.data.uuid,title:"Vis udvidet information"}},[t._v(" "+t._s(t.data.name)+" ")])}),a=[],i={props:["data"],computed:{root_org_uuid:function(){return this.$route.query.root}}},u=i,c=(n("8508"),n("2877")),d=Object(c["a"])(u,s,a,!1,null,null,null),l=d.exports,h=n("a79f"),g={components:{Branch:function(){return n.e("chunk-5307d0fc").then(n.bind(null,"691a"))},OrgLite:l,Org:h["a"]},data:function(){return{branch_open:!1}},props:{uuid:String,showChildren:{type:Boolean,default:!1},level:Number},computed:{node_data:function(){return this.$store.getters.getOrgUnit(this.uuid)},root_org_unit_uuid:function(){return this.$route.query.root},active_org_uuid:function(){return this.$route.query.org},query_showchildren_applies:function(){return this.$route.query.org===this.uuid&&1==this.$route.query.showchildren}},watch:{showChildren:function(t){this.update(t)},node_data:function(t){this.update(this.showChildren)}},methods:{update:function(t){(t||this.query_showchildren_applies)&&(this.$store.dispatch("checkOrgChildren",this.uuid),this.branch_open=!0)},toggleBranch:function(){this.branch_open=!this.branch_open;var t={name:"orgchart",query:{root:this.root_org_unit_uuid,org:this.node_data.uuid,orgopen:0,showchildren:this.branch_open?1:0}};this.$router.push(t)}},created:function(){this.update(this.showChildren)}},p=g,f=(n("cf48"),Object(c["a"])(p,r,o,!1,null,null,null));e["a"]=f.exports},"903a":function(t,e,n){"use strict";n("d3b7"),n("6d93"),n("7b1f");var r=function(){var t=document.createElement("div");t.id="spinner",t.role="alert";var e=function(){return!!document.getElementById("spinner")},n=function(){e()||document.body.appendChild(t)},r=function(){e()&&document.body.removeChild(t)};return{spinOn:n,spinOff:r}},o=r(),s=[];function a(){s.push(!0),s.length>0&&o.spinOn()}function i(){s.pop(),s.length<1&&o.spinOff()}function u(t){return a(),fetch("http://192.168.1.225:5000"+t).then((function(t){return t.json()})).then((function(t){return i(),t})).catch((function(t){return console.log(t),i(),t}))}e["a"]=u},"96c7":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"oc-header"},[t._t("title"),t._t("actions")],2)},o=[],s=(n("dead"),n("2877")),a={},i=Object(s["a"])(a,r,o,!1,null,null,null);e["a"]=i.exports},"9c0c":function(t,e,n){},"9dd5":function(t,e,n){"use strict";var r=n("0e06"),o=n.n(r);o.a},a79f:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.org_visible&&t.org_data?n("article",{staticClass:"oc-org"},[n("oc-header",[n("h2",{attrs:{slot:"title"},slot:"title"},[n("router-link",{attrs:{id:"orgtitle",to:{name:"orgchart",query:{root:t.root_org_uuid,org:t.org_data.uuid,orgopen:0,showchildren:1}},title:"Luk visning af "+t.org_data.name}},[n("svg",{staticClass:"svg-back",attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{staticClass:"svg-path",attrs:{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}})]),n("span",{staticClass:"oc-org-title"},[t._v(t._s(t.org_data.name))]),n("svg",{staticClass:"svg-close",attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{staticClass:"svg-path",attrs:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}})])])],1)]),n("div",{staticClass:"oc-org-body"},[n("person-list",{attrs:{uuid:t.org_data.uuid}})],1)],1):t._e()},o=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.people?n("ul",{staticClass:"people-list"},t._l(t.people,(function(t){return n("li",{key:t.uuid},[n("person-lite",{attrs:{data:t}})],1)})),0):t._e()},a=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.data?n("div",{staticClass:"oc-person-list-item"},[t.data.person?n("dl",[n("dt",[t._v(t._s(t.data.association_type.name))]),n("dd",[n("router-link",{staticClass:"oc-person-open",attrs:{to:{name:"orgchart",query:{root:t.root_org_uuid,org:t.data.org_unit.uuid,person:t.data.person.uuid,orgopen:1,showchildren:1}}}},[t._v(" "+t._s(t.data.person.name)+" ")])],1)]):t._e()]):t._e()},u=[],c={props:["data"],computed:{root_org_uuid:function(){return this.$store.getters.getRootOrgUnitUuid}}},d=c,l=(n("6beb"),n("2877")),h=Object(l["a"])(d,i,u,!1,null,null,null),g=h.exports,p=n("f0b4"),f={components:{PersonLite:g,Person:p["a"]},props:["uuid"],computed:{people:function(){return this.$store.getters.getPersons}},watch:{uuid:function(t){this.$store.dispatch("fetchAssociatedPeople",t)}},created:function(){this.$store.dispatch("fetchAssociatedPeople",this.uuid)}},_=f,v=(n("9dd5"),Object(l["a"])(_,s,a,!1,null,null,null)),m=v.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.managers?n("dl",{staticClass:"oc-manager-item"},[t._l(t.managers,(function(e){return[n("dt",{key:e.uuid},[t._v(t._s(e.manager_type.name))]),n("dd",{key:e.person.uuid},[n("router-link",{attrs:{to:{name:"orgchart",query:{root:t.root_org_uuid,org:t.uuid,orgopen:1,person:e.person.uuid}}}},[t._v(" "+t._s(e.person.name)+" ")])],1)]}))],2):t._e()},y=[],w={props:["uuid"],computed:{managers:function(){return this.$store.getters.getManagers},root_org_uuid:function(){return this.$store.getters.getRootOrgUnitUuid}},watch:{uuid:function(t){this.$store.dispatch("fetchManagers",t)}},created:function(){this.$store.dispatch("fetchManagers",this.uuid)}},O=w,C=(n("8834"),Object(l["a"])(O,b,y,!1,null,null,null)),$=C.exports,k=n("96c7"),q=(n("c0d6"),{components:{PersonList:m,Managers:$,OcHeader:k["a"]},computed:{org_visible:function(){return 1==this.$route.query.orgopen},org_data:function(){return this.$store.getters.getOrgUnit(this.$route.query.org)},root_org_uuid:function(){return this.$route.query.root}},watch:{$route:function(t){this.update(t.query.org)}},methods:{update:function(t){t&&this.$store.dispatch("fetchOrgUnit",t)}},created:function(){this.update(this.$route.query.org)}}),j=q,P=(n("71b0"),Object(l["a"])(j,r,o,!1,null,null,null));e["a"]=P.exports},b3c5:function(t,e,n){},c0d6:function(t,e,n){"use strict";var r=n("2b0e"),o=n("2f62"),s=n("8468"),a=n("903a"),i={persons:{},managers:null},u={getPersons:function(t){return t.persons},getPerson:function(t){return function(e){return t.persons[e]}},getManagers:function(t){return t.managers}},c={setPersons:function(t,e){t.persons=e},updatePerson:function(t,e){if(t.persons[e.uuid]){var n=Object.assign({},e,t.persons[e.uuid]);r["a"].set(t.persons,e.uuid,n)}else r["a"].set(t.persons,e.uuid,e)},setManagers:function(t,e){t.managers=e}},d={fetchAssociatedPeople:function(t,e){var n=t.commit;n("setPersons",{}),Object(a["a"])("/service/ou/".concat(e,"/details/association")).then((function(t){for(var e in t)n("updatePerson",t[e])}))},fetchPerson:function(t,e){var n=t.state,r=t.commit,o=t.dispatch;return n.persons[e]&&n.persons[e].address_data?n.persons[e]:o("fetchPersonByHttp",e).then((function(t){return o("fetchPersonAddresses",e).then((function(n){t.address_data=n,o("fetchPersonAssociations",e).then((function(e){t.association_data=e,r("updatePerson",t)}))})),t}))},fetchPersonByHttp:function(t,e){return Object(s["a"])(t),Object(a["a"])("/service/e/".concat(e,"/")).then((function(t){return t}))},fetchPersonAddresses:function(t,e){return Object(s["a"])(t),Object(a["a"])("/service/e/".concat(e,"/details/address")).then((function(t){return t}))},fetchPersonAssociations:function(t,e){return Object(s["a"])(t),Object(a["a"])("/service/e/".concat(e,"/details/association")).then((function(t){return t}))},fetchManagers:function(t,e){var n=t.commit;Object(a["a"])("/service/ou/".concat(e,"/details/manager")).then((function(t){n("setManagers",t)}))}},l={state:i,getters:u,mutations:c,actions:d},h=(n("c740"),function t(e,n){for(var r in e)e[r].parent_uuid=n,e[r].children?(e[r].showchildren=!0,t(e[r].children,e[r].uuid)):e[r].showchildren=!1,f.updateNode(g,e[r])}),g={graph:{},root_org_uuid:"f06ee470-9f17-566f-acbe-e938112d46d9",global_organisations:null},p={getGraph:function(t){return t.graph},getOrgUnit:function(t){return function(e){return t.graph[e]}},getChildren:function(t){return function(e){var n=[];for(var r in t.graph[e].child_list)n.push(t.graph[t.graph[e].child_list[r]]);return n}},getRootOrgUnitUuid:function(t){return t.root_org_uuid},getOrganisations:function(t){return t.global_organisations}},f={updateNode:function(t,e){if(t.graph[e.uuid]){var n=Object.assign({},t.graph[e.uuid],e);r["a"].set(t.graph,e.uuid,n)}else r["a"].set(t.graph,e.uuid,e)},setRootOrgUuid:function(t,e){t.root_org_uuid=e},setOrganisations:function(t,e){t.global_organisations=e}},_={checkOrgChildren:function(t,e){var n=t.state,r=t.dispatch,o=n.graph[e];o&&!o.child_list&&r("fetchOrgUnitChildren",e)},fetchGlobalOrgs:function(t){var e=t.commit;return Object(a["a"])("/service/o/").then((function(t){return e("setOrganisations",t),t}))},fetchTree:function(t,e){return Object(s["a"])(t),Object(a["a"])("/service/ou/ancestor-tree?uuid=".concat(e)).then((function(t){return h(t,!1),t}))},fetchOrgUnit:function(t,e){var n=t.commit,r=t.dispatch;g.graph[e]||Object(a["a"])("/service/ou/".concat(e,"/")).then((function(t){n("updateNode",t),r("fetchOrgUnitChildren",e)}))},fetchOrgUnitChildren:function(t,e){var n=t.commit,r=t.state;Object(a["a"])("/service/ou/".concat(e,"/children")).then((function(t){var o=r.graph[e];o.child_list||(o.child_list=[]);var s=function(e){n("updateNode",t[e]);var r=o.child_list.findIndex((function(n){return n===t[e].uuid}));r<0&&o.child_list.push(t[e].uuid)};for(var a in t)s(a);o.child_count=o.child_list.length,n("updateNode",o)}))}},v={state:g,getters:p,mutations:f,actions:_};r["a"].use(o["a"]);e["a"]=new o["a"].Store({modules:{person:l,organisation:v}})},c55a:function(t,e,n){"use strict";var r=n("386b"),o=n.n(r);o.a},cf48:function(t,e,n){"use strict";var r=n("30b3"),o=n.n(r);o.a},d5de:function(t,e,n){"use strict";var r=n("8245"),o=n.n(r);o.a},dead:function(t,e,n){"use strict";var r=n("127b"),o=n.n(r);o.a},f0b4:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.person_data?n("article",{staticClass:"oc-person"},[n("oc-header",[n("h3",{attrs:{slot:"title"},slot:"title"},[n("router-link",{attrs:{to:{name:"orgchart",query:{root:t.root_org_uuid,org:t.org_unit_uuid,orgopen:1,showchildren:1}},title:"Tilbage til "+t.person_data.association_data[0].org_unit.name}},[n("svg",{staticClass:"svg-back",attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{staticClass:"svg-path",attrs:{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}})]),n("span",{staticClass:"oc-person-title"},[t._v(t._s(t.person_data.name))]),n("svg",{staticClass:"svg-close",attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{staticClass:"svg-path",attrs:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}})])])],1)]),n("dl",{staticClass:"oc-person-body"},[n("dt",[t._v("Navn")]),n("dd",[t._v(t._s(t.person_data.name))]),n("dt",[t._v("Tilknytning")]),n("dd",[t._v(t._s(t.person_data.association_data[0].association_type.name))]),t.person_data.address_data?[t._l(t.person_data.address_data,(function(e){return[n("dt",{key:e.address_type.uuid},[t._v(t._s(e.address_type.name))]),n("dd",{key:e.uuid},["Email"===e.address_type.name?n("a",{attrs:{href:"mailto:"+e.name}},[t._v(" "+t._s(e.name)+" ")]):n("span",[t._v(" "+t._s(e.name)+" ")])])]}))]:t._e()],2)],1):t._e()},o=[],s=n("96c7"),a={components:{OcHeader:s["a"]},computed:{person_data:function(){return this.$store.getters.getPerson(this.$route.query.person)},org_unit_uuid:function(){return this.$route.query.org},root_org_uuid:function(){return this.$route.query.root}},watch:{$route:function(t){this.update(t.query.person)}},methods:{update:function(t){t&&this.$store.dispatch("fetchPerson",t)}},created:function(){this.update(this.$route.query.person)}},i=a,u=(n("c55a"),n("2877")),c=Object(u["a"])(i,r,o,!1,null,null,null);e["a"]=c.exports}});
//# sourceMappingURL=app-legacy.b6303a3e.js.map